<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>智能法律助手</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="container">
  <!-- 左侧导航栏 -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/law.png" alt="logo" />
        <span>智法云</span>
      </div>
    </div>
    <nav>
      <button id="nav-home" class="active"><img src="image/首页.png" alt="首页"> 首页</button>
      <button id="nav-ai"><img src="image/AI懂法.png" alt="AI懂法"> AI懂法</button>
      <button id="nav-contract"><img src="image/智能合同.png" alt="智能合同"> 智能合同</button>
      <button id="nav-doc"><img src="image/文书生成.png" alt="文书生成"> 文书生成</button>
      <button id="nav-quiz"><img src="image/法律答题.png" alt="法律答题"> 法律答题</button>
      <button id="nav-court"><img src="image/AI法庭.png" alt="AI法庭"> AI法庭</button>
    </nav>
  </aside>

  <!-- 右侧主内容区 -->
  <main class="main-content">

    <div id="page-home">
      <div class="home-header">
        <h1>欢迎使用智能法律助手</h1>
        <p>一站式法律服务平台，助您轻松解决法律问题</p>
      </div>
      <div class="home-desc">
        <p>点击左侧"AI懂法"可体验智能法律问答，后续将支持更多法律服务功能。</p>
      </div>
    </div>

    <div id="page-ai" style="display:none;">
      <div class="ai-header">
        <h2>您好，我是您的AI法律助手</h2>
        <p>专注于法律领域的理解和推理，为您提供智能法律支持</p>
      </div>
      <section class="chat-section" style="margin-top: 60px; height: 100%; display: flex; flex-direction: column;">
        <div class="chat-history" id="chatHistory" style="flex:1; min-height: 0;"></div>
        <div class="ai-bottom-bar">
          <div class="ai-toolbar" style="width:100%; display:flex; align-items:center; gap:16px; margin-bottom:10px;">
            <button class="history-float-btn" onclick="toggleHistorySidebar()" title="历史记录" style="position:static; width:40px; height:40px; min-width:40px; min-height:40px; box-shadow:none;">
              <span style="font-size:20px;">🕓</span>
            </button>
            <button onclick="startNewConversation()" style="padding: 8px 18px; border-radius: 8px; border: none; background: var(--main-purple); color: #fff; font-size: 15px; cursor: pointer;">🔄 新一轮对话</button>
            <div style="position: relative;">
              <button onclick="toggleModelMenu()" id="modelBtn" style="padding: 8px 18px; border-radius: 8px; border: none; background: var(--main-purple); color: #fff; font-size: 15px; cursor: pointer;">🧠 选择大模型</button>
              <div id="modelMenu" style="display:none; position: absolute; top: 38px; left: 0; background: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); min-width: 120px; z-index: 20;">
                <div onclick="selectModel('通义千问')" style="padding: 10px 18px; cursor: pointer;">通义千问</div>
                <div onclick="selectModel('星火大模型')" style="padding: 10px 18px; cursor: pointer;">星火大模型</div>
                <div onclick="selectModel('智谱')" style="padding: 10px 18px; cursor: pointer;">智谱</div>
                <div onclick="selectModel('deepseek')" style="padding: 10px 18px; cursor: pointer;">DeepSeek</div>
              </div>
            </div>
            <span id="currentModel" style="color: var(--main-purple); font-size: 15px; margin-left: 8px;">当前模型：通义千问</span>
          </div>
          <div class="chat-input" style="width:100%;">
            <input type="text" id="userInput" placeholder="请输入您的问题或指令..." />
            <button onclick="sendQuestion()">📤 发送</button>
          </div>
          <div class="suggestions" style="margin-bottom: 8px;">
            <button onclick="fillAndSend('朋友借了我10万块钱，约定两个月归还且不需要利息。已经半年过去了，对方还没还钱怎么办？')">朋友借了我10万块钱...</button>
            <button onclick="fillAndSend('如何判断一份合同是否有效？')">如何判断一份合同是否有效？</button>
            <button onclick="fillAndSend('空置房物业费要怎么和物业公司协商？')">空置房物业费...</button>
          </div>
        </div>
      </section>
      <aside class="history-sidebar" id="historySidebar">
        <div class="tabs">
          <button class="active">历史</button>
          <button onclick="closeHistorySidebar()">×</button>
        </div>
        <input type="text" placeholder="请输入搜索内容" id="historySearch" />
        <div class="history-list" id="historyList"></div>
      </aside>
    </div>

    <div id="page-contract" style="display:none;">
      <div class="contract-review-center-wrapper" style="display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 120px);">
        <div class="contract-review-container" style="background:#fff;border-radius:12px;padding:40px 32px 32px 32px;box-shadow:0 2px 8px rgba(0,0,0,0.05);max-width:700px;width:100%;min-height:500px;display:flex;flex-direction:column;align-items:center;">
          <h2 style="color:#6f4a8e;margin-bottom:32px;margin-top:0;text-align:center;width:100%;font-size:32px;font-weight:bold;">合同智能审查</h2>
          <div style="flex:1;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;">
            <div class="upload-section" style="margin-bottom:24px;width:100%;display:flex;flex-direction:column;align-items:center;">
              <input type="file" id="contractFile" accept=".txt,.doc,.docx,.pdf" style="display:none" />
              <div class="upload-box" id="uploadBox" style="border:2px dashed #a0a0ff;border-radius:8px;padding:40px 0;width:100%;max-width:420px;text-align:center;color:#888;cursor:pointer;margin-bottom:16px;">
                <span id="uploadText">点击或拖拽上传合同文件</span>
              </div>
              <button id="reviewBtn" disabled style="background:#4f7cff;color:#fff;border:none;border-radius:6px;padding:10px 32px;font-size:16px;cursor:pointer;width:180px;">生成审查建议</button>
            </div>
            <div id="reviewResult" class="review-result" style="margin-top:24px;background:#f7f8fa;border-radius:8px;padding:24px;min-height:80px;color:#222;width:100%;max-width:420px;text-align:left;"></div>
          </div>
          <div id="contractHistory" style="margin-top:36px;width:100%;max-width:420px;">
            <h3 style="color:#807b9e;font-size:18px;margin-bottom:12px;margin-top:0;">历史记录</h3>
            <ul id="historyListContract" style="list-style:none;padding:0;margin:0;"></ul>
          </div>
        </div>
      </div>
    </div>
    <div id="page-doc" style="display:none;"><div style="padding:40px;color:#807b9e;">文书生成（开发中）</div></div>
    <div id="page-quiz" style="display:none;"><div style="padding:40px;color:#807b9e;">法律答题（开发中）</div></div>
    <div id="page-court" style="display:none;"><div style="padding:40px;color:#807b9e;">AI法庭（开发中）</div></div>
  </main>
</div>

<!-- 引入JavaScript文件 -->
<script src="js/app.js"></script>
<script src="js/ai-legal.js"></script>
<script src="js/contract.js"></script>
</body>
</html> 